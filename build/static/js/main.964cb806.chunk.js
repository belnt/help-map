(this.webpackJsonpautohelp2020=this.webpackJsonpautohelp2020||[]).push([[0],{104:function(e,t,a){e.exports=a(136)},109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),c=a.n(o),s=(a(109),a(70)),l=(a(110),a(151)),i=(a(111),a(13)),u=a(55),m=a(31),d=a.n(m),p=a(78),b=a(45),h=a(36),v=a(37),f=a(44),g=a(42),E=a(101),C=(a(112),a(59)),y=a(91),k="",w="2c9e2bb0-a5b8-45f5-af0a-0e8ff88aeff9",j="https://t.me/autohelp2020_bot",O=a.n(y).a.create({baseURL:k,responseType:"json"});function N(){return x.apply(this,arguments)}function x(){return(x=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("api/need-points.php");case 2:return t=e.sent,e.abrupt("return",t.data.points.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{type:"need-help"})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return I.apply(this,arguments)}function I(){return(I=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.post("api/can-points.php");case 2:return t=e.sent,e.abrupt("return",t.data.points.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{type:"can-help"})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S={actual:{name:"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e",bgcolor:"#f61c1c",color:"white"},stillneed:{name:"\u041d\u0430\u0434\u043e \u0435\u0449\u0435",bgcolor:"#f4cccc",color:"black"},notyet:{name:"\u041f\u043e\u043a\u0430 \u043d\u0435 \u043d\u0430\u0434\u043e",bgcolor:"#f9cb9c",color:"black"},nomore:{name:"\u0411\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043d\u0430\u0434\u043e",bgcolor:"#b6d7a8",color:"white"},inprocess:{name:"\u0412\u0435\u0437\u0443\u0442",bgcolor:"#ffff00",color:"black"}};function _(e){var t=e.lat+","+e.lon,a=null,n=!1,r=!1,o="";e.contact.length>0&&("@"===e.contact[0]?(o=e.contact,a='<a href="https://t.me/'.concat(o.slice(1),'" class="ant-btn ant-btn-primary ant-btn-sm"><span>\u0422\u0435\u043b\u0435\u0433\u0440\u0430\u043c</span></a>')):a='<a href="tel:'.concat(e.contact,'" class="ant-btn ant-btn-primary ant-btn-sm"><span>\u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c</span></a>'));var c='<a href="https://yandex.ru/maps/?rtext=~'.concat(t,'&rtt=auto\'" class="ant-btn ant-btn-sm" target="_blank"><span>\u041c\u0430\u0440\u0448\u0440\u0443\u0442</span></a>');switch(e.status){case"actual":case"stillneed":n=!0,r=!0;break;case"notyet":n=!1,r=!0;break;case"nomore":case"inprocess":n=!1,r=!1;break;default:n=!0,r=!0}return n&&a||(a=""),r||(c=""),'<div class="baloon-footer">\n  '.concat(a,"\n  ").concat(c,"\n  </div>")}function F(e){var t=document.createTextNode(e),a=document.createElement("span");return a.appendChild(t),a.innerHTML}function M(e,t){var a=S[e.status],n={backgroundColor:a.bgcolor,color:a.color};return'\n        <div>\n            <div class="status-code">\n            <span class="driver status status-'.concat(e.status,' mb-1" style="background-color: ').concat(n.backgroundColor,"; color: ").concat(n.color,'">').concat(a.name,"</span>\n            <span><strong>\u041a\u043e\u0434: ").concat(e.code,"</strong></span>\n            </div>\n            <div>\n                <strong>\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0430\u0434\u0440\u0435\u0441:</strong> ").concat(F(e.address),"\n            </div>\n            <div>\n                <strong>\u041a\u043e\u043d\u0442\u0430\u043a\u0442:</strong> ").concat(F(e.nickname),"\n            </div>\n            <div>\n                <strong>\u041f\u043e\u043c\u043e\u0436\u0435\u0442:</strong> ").concat(F(e.help),"\n            </div>\n            <div>\n                <strong>\u0410\u0432\u0442\u043e:</strong> ").concat(F(e.is_auto),"\n            </div>\n            <div>\n                <strong>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439:</strong> ").concat(F(e.comments),"\n            </div>\n            <div>\n                <strong>\u041e\u0442\u043c\u0435\u0442\u043a\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438:</strong> ").concat(F(e.date),"\n            </div>\n            ").concat(_(e),"\n        </div>")}function D(e,t){var a=S[e.status],n={backgroundColor:a.bgcolor,color:a.color};return'\n        <div>\n            <div class="status-code">\n              <span class="driver status status-'.concat(e.status,' mb-1" style="background-color: ').concat(n.backgroundColor,"; color: ").concat(n.color,'">').concat(a.name,"</span>\n              <span><strong>\u041a\u043e\u0434: ").concat(e.code,"</strong></span>\n            </div>            \n            <div>\n                <strong>\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0430\u0434\u0440\u0435\u0441:</strong> ").concat(F(e.address),"\n            </div>\n            <div>\n                <strong>\u041a\u043e\u043d\u0442\u0430\u043a\u0442:</strong> ").concat(F(e.nickname),"\n            </div>\n            <div>\n                <strong>\u041d\u0443\u0436\u043d\u0430 \u043f\u043e\u043c\u043e\u0449\u044c:</strong> ").concat(F(e.help),"\n            </div>\n            <div>\n                <strong>\u0410\u0432\u0442\u043e:</strong> ").concat(F(e.is_auto),"\n            </div>\n            <div>\n                <strong>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439:</strong> ").concat(F(e.comments),"\n            </div>\n            <div>\n                <strong>\u041e\u0442\u043c\u0435\u0442\u043a\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438:</strong> ").concat(F(e.date),"\n            </div>\n            ").concat(_(e),"\n        </div>")}var T=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={points:[]},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:t=e.sent,this.setState({points:[].concat(Object(p.a)(t.can_persons),Object(p.a)(t.need_persons))});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([z(),N()]);case 3:return t=e.sent,a=Object(s.a)(t,2),n=a[0],r=a[1],console.log(z()),e.abrupt("return",{can_persons:n,need_persons:r});case 11:return e.prev=11,e.t0=e.catch(0),E.b.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."),e.abrupt("return",{});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(u.a,{className:"map",defaultState:{center:[53.902512,27.561481],zoom:12,controls:["geolocationControl","fullscreenControl","searchControl","zoomControl"]},defaultOptions:{maxZoom:18},modules:["control.GeolocationControl","control.FullscreenControl","control.SearchControl","control.ZoomControl"]},r.a.createElement(u.b,{defaultOptions:{clusterize:!0,gridSize:64,clusterOpenBalloonOnClick:!0,clusterDisableClickZoom:!1,clusterHideIconOnBalloonOpen:!1,geoObjectHideIconOnBalloonOpen:!1},defaultClusters:{clusterIconLayout:"default#pieChart",clusterIconPieChartRadius:30,clusterIconPieChartCoreRadius:20,clusterIconPieChartStrokeWidth:5},modules:["geoObject.addon.balloon","geoObject.addon.hint","objectManager.addon.clustersBalloon","objectManager.addon.objectsBalloon","objectManager.addon.objectsHint","layout.PieChart"],features:this.state.points.map((function(e,t){return"can-help"===e.type?function(e,t){var a=Date.now(),n="".concat(t,"_").concat(a),r=F(e.nickname);return e.status,{type:"Feature",id:n,geometry:{type:"Point",coordinates:[e.lat,e.lon]},options:{preset:"islands#heartIcon",iconColor:"#1890ff"},properties:{balloonContent:M(e),hintContent:"\u041f\u043e\u043c\u043e\u0433\u0430\u0442\u043e\u0440 (".concat(r,")"),clusterCaption:"\u041f\u043e\u043c\u043e\u0433\u0430\u0442\u043e\u0440 (".concat(r,")")}}}(e,t):function(e,t){var a=Date.now(),n="".concat(t,"_").concat(a),r=F(e.nickname),o=S[e.status];return{type:"Feature",id:n,geometry:{type:"Point",coordinates:[e.lat,e.lon]},options:{preset:"islands#attentionCircleIcon",iconColor:o.bgcolor},properties:{balloonContent:D(e),hintContent:"\u041d\u0443\u0436\u043d\u0430 \u043f\u043e\u043c\u043e\u0449\u044c (".concat(r,")"),clusterCaption:"\u041d\u0443\u0436\u043d\u0430 \u043f\u043e\u043c\u043e\u0449\u044c (".concat(r,")")}}}(e,t)}))}))}}]),a}(n.Component),W=a(139),B=a(140),P=a(141),A=a(142),H=a(143),J=a(144),R=a(145),L=a(146),Z=a(147),K=a(148),Q=a(149),U=a(150),q=["helpbelarus","\u043f\u043e\u043c\u043e\u0433\u0438\u0411\u043e\u0440\u043e\u0432\u0430\u044f","\u043f\u043e\u043c\u043e\u0433\u0438\u043c\u043d\u0435"],Y=function(e){var t=e.hashTags||q,a=e.message||"\u0412\u0437\u0430\u0438\u043c\u043e\u043f\u043e\u043c\u043e\u0449\u044c \u0432 \u0411\u0435\u043b\u0430\u0440\u0443\u0441\u0438",n=e.shareUrl||"https://helpbelarus.org",o="".concat(a," ").concat(t.map((function(e){return"#".concat(e)})).join(" "));return r.a.createElement("ul",{className:"social-share-button-list"},r.a.createElement("li",{title:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Facebook"},r.a.createElement(W.a,{className:"social-share-button",url:n,quote:a,hashtag:"#"+t[0]},r.a.createElement(B.a,{size:28,round:!0}))),r.a.createElement("li",{title:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Twitter"},r.a.createElement(P.a,{className:"social-share-button",url:n,title:a,hashtags:t},r.a.createElement(A.a,{size:28,round:!0}))),r.a.createElement("li",{title:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"},r.a.createElement(H.a,{className:"social-share-button",url:n,title:o},r.a.createElement(J.a,{size:28,round:!0}))),r.a.createElement("li",{title:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u041e\u0434\u043d\u043e\u043a\u043b\u0430\u0441\u0441\u043d\u0438\u043a\u0438"},r.a.createElement(R.a,{className:"social-share-button",url:n,title:o},r.a.createElement(L.a,{size:28,round:!0}))),r.a.createElement("li",{title:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Telegram"},r.a.createElement(Z.a,{className:"social-share-button",url:n,title:o},r.a.createElement(K.a,{size:28,round:!0}))),r.a.createElement("li",{title:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Viber"},r.a.createElement(Q.a,{className:"social-share-button",url:n,title:a},r.a.createElement(U.a,{size:28,round:!0}))))},V=(a(130),function(){return r.a.createElement("div",{className:"header-content"},r.a.createElement("div",{className:"brand"},r.a.createElement("div",{className:"brand-logo"})),r.a.createElement("div",{className:"social-buttons"},"helpbelarus.org@gmail.com"),r.a.createElement("div",{className:"social-buttons"},r.a.createElement("span",null,"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0435\u0442\u044f\u0445"),r.a.createElement(Y,null)))}),G=(a(131),function(e){return r.a.createElement("div",{className:"sub-header"},r.a.createElement("div",{className:"event"},r.a.createElement("div",{className:"event-primary"},e.event.location),r.a.createElement("div",{className:"event-details"},e.event.shortDescription)))}),$=(a(132),a(152)),X=a(153),ee=a(73),te=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e.showModal=function(){e.setState({visible:!0})},e.handleCancel=function(t){e.setState({visible:!1})},e}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($.a,{className:"ant-btn ant-btn-primary ant-btn-round ant-btn-lg",onClick:this.showModal},"\u042f \u043c\u043e\u0433\u0443 \u043f\u043e\u043c\u043e\u0447\u044c"),r.a.createElement(X.a,{placement:"right",closable:!1,onClose:this.handleCancel,visible:this.state.visible,className:"drawerForm"},r.a.createElement("div",{className:"gamburgerMenuWrapper"},r.a.createElement($.a,{type:"",className:"",onClick:this.handleCancel,shape:"circle",icon:r.a.createElement(ee.a,null)})),r.a.createElement("div",{className:"frameWrapper"},r.a.createElement("iframe",{className:"googleForms",src:"https://docs.google.com/forms/d/e/1FAIpQLSf2lRStuIiQ5fhUTzKFd_mVUkYjd0ZJ0qKQz77_HJN8154eWA/viewform?embedded=true",frameborder:"0",marginheight:"0",marginwidth:"0"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u2026"))))}}]),a}(n.Component),ae=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e.showModal=function(){e.setState({visible:!0})},e.handleCancel=function(t){e.setState({visible:!1})},e}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($.a,{className:"ant-btn ant-btn-primary ant-btn-round ant-btn-lg",onClick:this.showModal},"\u041c\u043d\u0435 \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u043c\u043e\u0449\u044c"),r.a.createElement(X.a,{placement:"right",closable:!1,onClose:this.handleCancel,visible:this.state.visible,className:"drawerForm"},r.a.createElement("div",{className:"gamburgerMenuWrapper"},r.a.createElement($.a,{type:"",className:"",onClick:this.handleCancel,shape:"circle",icon:r.a.createElement(ee.a,null)})),r.a.createElement("div",{className:"frameWrapper"},r.a.createElement("iframe",{className:"googleForms",src:"https://docs.google.com/forms/d/e/1FAIpQLSf0WrxY_AKJdRxCjJ6NpRpzzIfrY93gtPt77EKpf1Zk3oauaw/viewform?embedded=true",frameborder:"0",marginheight:"0",marginwidth:"0"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u2026"))))}}]),a}(n.Component),ne=function(e){return r.a.createElement("div",{className:"footer-content"},r.a.createElement(te,null),r.a.createElement(ae,null))},re={dateTime:"18 \u043d\u043e\u044f\u0431\u0440\u044f 2020",shortDateTime:"18 \u043d\u043e\u044f\u0431\u0440\u044f 2020",description:"\u041f\u043e\u043c\u043e\u0449\u044c \u043b\u044e\u0434\u044f\u043c \u043f\u043e \u041c\u0438\u043d\u0441\u043a\u0443",shortDescription:"\u041f\u043e\u043c\u043e\u0433\u0430\u0435\u043c \u0432\u0441\u0435\u043c \u0438 \u0432\u0441\u044e\u0434\u0443",location:"\u043f\u043e\u043c\u043e\u0433\u0430\u0435\u043c IT-\u0448\u043d\u0438\u043a\u0430\u043c",coordinates:[53.930154,27.570241]},oe=l.a.Header,ce=l.a.Content,se=l.a.Footer;function le(){var e=Object(i.f)(),t=Object(n.useState)("/"===window.location.pathname?"to":"from"),a=Object(s.a)(t,2),o=a[0],c=a[1];return r.a.createElement(l.a,{className:"layout"},r.a.createElement(oe,null,r.a.createElement(V,null),r.a.createElement(G,{event:re,direction:o,changeDirection:function(t){c(t);var a="to"===t?"/":"/back";e.push(a)}})),r.a.createElement(ce,{className:"content"},r.a.createElement("div",{className:"map-wrapper"},r.a.createElement(u.c,{query:{apikey:w}},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0},r.a.createElement(T,{direction:"to",event:re})),r.a.createElement(i.a,{path:"/back"},r.a.createElement("span",null),r.a.createElement(T,{direction:"from",event:re})))))),r.a.createElement(se,null,r.a.createElement(ne,{telegramBot:j})))}var ie=a(75);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=r.a.createElement(ie.a,null,r.a.createElement(le,null));c.a.render(ue,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.964cb806.chunk.js.map